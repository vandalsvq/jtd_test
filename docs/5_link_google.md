---
layout: default
title: Обмен с Google
nav_order: 5
---

# Интеграция с Google Calendar
{: .no_toc }

<details open markdown="block">
  <summary>
    Содержание
  </summary>
  {: .text-delta }
1. TOC
{:toc}
</details>

Синхронизация с Google calendar выполняется в двустороннем режиме.

При этом синхронизация выполняется следующим образом:

- Создание календаря может быть выполнено двумя способами: по данным Google и самостоятельно в 1С. При этом самостоятельно созданный календарь можно объединить с существующим календарем в Google.

- При изменении данных календаря, программа тут же пытается отправить данные в Google. Если по каким-то причинам это не удается, то отправка будет повторяться, до тех пор пока данные не будут выгружены.

- Если календарь синхронизирован события по нему будут обмениваться между 1С и Google автоматически. Происходить это будет в обе стороны.
  - Если событие создать или изменить в 1С, система автоматически попробует отправить данные в Google
  - Если событие создать или изменить в Google, в ближайшем времени система 1С запросит изменения из Google и внесет полученные данные в 1С
- Кроме событий можно выполнять синхронизацию прав доступа к календарям. Т.е. если добавить пользователя в настройке доступа 1С, настройка будет отправлена в Google. Также можно загрузить настройки доступа из Google.

## Коллизии при обмене

При разработке мы постарались максимально учесть период внесения изменений, очередность обмена. В расширении добавлены специальные механизмы позволяющие определить приоритет загрузки/выгрузки информации при обмене.

Например:
- вы внесли изменения в 1С, но в этот момент связи с интернет не было. Данные не были отправлены в Google
- вы решили самостоятельно изменить событие в Google. Таким образом, изменения в Google будут более поздними по времени и будут считаться приоритетными
 
Но сразу вас успокоим, такие коллизии происходят крайне редко. Во-первых мы постарались сделать обмен максимально оперативным. А во-вторых, достаточно просто подождать 5-10 минут и наверняка изменения поступят в 1С (и Google).

Более того, пользователь может сам влиять на периодичность обмена информацией.

## Разные часовые пояса

В процессе синхронизации учитываются часовые пояса. Поэтому если вы будете находится в Москве, а ваш календарь будут видеть в Екатеринбурге, то время будет адаптировано под место чтения.

## Настройка интеграции

Настройка синхронизации с Google Calendar полностью описана в справочной системе планировщика.

Для настройки необходимо выполнить следующие действия:

1. Зарегистрировать собственное приложение в Google;
2. Указать идентификатор клиента Google + секретный ключ (данные хранятся в безопасном хранилище 1С);
3. Каждый пользователь должен настроить доступ (дать свое согласие на синхронизацию), указать периодичность обмена и синхронизировать календари.